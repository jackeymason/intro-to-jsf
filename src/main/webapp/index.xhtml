<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core">


<h:head>
	<title>Facelet Title</title>
</h:head>
<h:body>

	<f:metadata>
		
		<f:viewParam name="guest" required="#{!facesContext.postback}" postback="false"
			maxlength="25" value="#{welcomePageBean.welcomeUserName}"
			requiredMessage="Please provide the guest name" />
		<!-- When onPostback is true, the page is being refreshed not the initial load, so not required if postback 
            as in a form posting to the same page it is on
		The action Lets us execute a method in our backing bean when the page is loaded, or at any point before the page is fully loaded, or thereafter.
        	here we are calling it before the user clicks the "Say Hello" button -->
			<f:viewAction action="#{welcomePageBean.sayHello}" />
	</f:metadata>
	<h:form>
		<h:panelGrid columns="2">
			<h:outputLabel for="inputTextBox" value="Enter a name here" />
			<h:inputText id="inputTextBox" 
				value="#{welcomePageBean.welcomeUserName}" />
			<h:commandButton value="Say Hello"
				action="#{welcomePageBean.sayHello()}" />
			<h:outputText value="#{welcomePageBean.completedGreeting}" />
			<h:commandButton value="Navigate!"
				action="#{welcomePageBean.navigateToFlashPage}" />
		</h:panelGrid>
	</h:form>

</h:body>
</html>

